<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mayadweepam Adventures</title>
  <meta property="og:url" content="https://mayadweepam.zee5.com/" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Mayadweepam Adventures" />
  <meta property="og:description" content="Play Mayadweepam Adventures" />
  <meta property="og:image" content="https://mayadweepam.zee5.com/FbImg.png" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <link href="https://unpkg.com/video.js/dist/video-js.css" rel="stylesheet" />
  <script src="https://unpkg.com/video.js/dist/video.js"></script>
  <script src="https://unpkg.com/videojs-contrib-hls/dist/videojs-contrib-hls.js"></script>
  <link rel="stylesheet" href="style.css" />

  <style>
	  
/******************* OTP **************************************/
	  
.otp {
  width: 100vw;
  height: 100vh;
  position: absolute;
  background: rgba(0, 0, 0, 0.8);
z-index:10000;	
}



.mobile {
  width: 70vw;
  height: auto;
  background-color: white;
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 10px 20px 10px 20px;
  border-radius: 10px;
}

.closeotpwin {
  position: absolute;
  right: 20px;
  top: 10px;
  width: 10px;
  height: 10px;
  opacity: 0.5;
}
.closeotpwin:hover {
  opacity: 1;
}
.closeotpwin:before, .closeotpwin:after {
  position: absolute;
  left: 15px;
  content: ' ';
  height: 20px;
  width: 2px;
  background-color: #333;
}
.closeotpwin:before {
  transform: rotate(45deg);
}
.closeotpwin:after {
  transform: rotate(-45deg);
}


.prize {
  display: block;
  width: 80px;
  height: auto;
  padding-top: 10px;
  margin-left: auto;
  margin-right: auto;
  
}

.win {
  width: 100%;
  font-size: 18px;
  text-align: center;
  color: black;
  font-family: Arial, Helvetica, sans-serif;  
   
}

.win2 {
  width: 100%;
  font-size: 12px;
  text-align: center;
  color: grey;
  font-family: Arial, Helvetica, sans-serif;
  font-weight: 500;
  margin-bottom: 15px;
   
}

.win3 {
  width: 100%;
  font-size: 12px;
  text-align: center;
  color: grey;
  font-family: Arial, Helvetica, sans-serif;
  font-weight: 500;
  margin-bottom: 15px;
   
}

.phone {
  position: relative;
  border-style: solid;
  border-color: grey;
  border-width: 0.5px;
  height: 30px;
  border-radius: 2px;
}

.flag-holder{
  display: inline-block;
  height: 30px;
  width: auto;
  background-color: lightgrey;
  padding: 0px 5px 0px 5px;
  border-top-left-radius: 2px;
  border-bottom-left-radius: 2px;
  float: left;
}

.flag {
  position: relative;
  float: left;
  height: 15px;
  width: 22px;
  top: 50%;
  transform: translate(0%, -50%);
  
}

.code {
	
  margin-top: 0px;
  position: relative;
  float: left;
  font-size: 14px;
  margin-left: 5px;
  font-family: Arial, Helvetica, sans-serif;
  font-weight: 300;
  color: grey;
  top: 50%;
  transform: translate(0%, -50%);
 
  
}


.tele {
	
  position: relative;
  display: inline-block;
  float: left;
  height: 22px;
  border: 0;
  margin-left: 2px;
  margin-top: 3px;
  font-size: 14px;
 font-family: Arial, Helvetica, sans-serif;
  font-weight: 400;
  color: grey;
  
}

.tele:active {
  outline: none;
}

.tele:focus {
  outline: none;
}

.demo {
	
  position: relative;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  display: inline-block;
  vertical-align: middle;
  text-align: center;
  border-radius: 4px;
  margin-bottom: 15px;
  margin-top: 25px;
  line-height: 22px;
  font-size: 14px;
  padding: 5px 15px;
  left: 50%;
  transform: translate(-50%, 0%);
	
}


.demo.blue {
	
  color: white;
  border: 1px solid #1070de;
  background: -webkit-linear-gradient(top, #4092f1, #1a7cee);
  letter-spacing: 0.07em;
	
}

.demo.blue:hover {
	
  background: -webkit-linear-gradient(top, #4092f1, #106dda);
	
}

.demo.blue:active {
	
  box-shadow: inset 0 1px 2px #0e5fbd;
  background: -webkit-linear-gradient(top, #106dda, #106dda);
  border: 1px solid #0e5fbd;
	
}


.otpnum {
	
  position: relative;
  display:block;
  height: 24px;
  border: 0.5;
  left: 50%;
  transform: translate(-50%, 0%);
  margin-left: 2px;
  font-size: 14px;
 font-family: Arial, Helvetica, sans-serif;
  font-weight: 400;
  color: grey;
  text-align: center;
	
}

.ok {
  display: block;
  width: 80px;
  height: auto;
  padding-top: 10px;
  margin-left: auto;
  margin-right: auto;
  
}
	  
	  
.resendotp {
	
  background: transparent;
  border: none;
  margin: 10px auto 0;
  display: block;
  font-size: 12px;
  color: #106dda;
  font-weight: 600;
  outline: none;
  position: relative;
  padding: 10px;
	
}

.resendotp:active {
	
  background: transparent;
  border: none;
  margin: 10px auto 0;
  display: block;
  font-size: 12px;
  color: #003d80;
  font-weight: 600;
  outline: none;
  position: relative;
  padding: 10px;
	
}

/* Incorrect OTP Text	  */ 
.plschk {
	
  width: 100%;
  font-size: 12px;
  text-align: center;
  color: red;
  font-family: Arial, Helvetica, sans-serif;
  font-weight: 500;
  margin: 15px 0px 0px 0px;
   
}	  


/***************************** End Of OTP ********************************/
	  
	
/************************** Facebook Login *******************************/
	  
#fbLogin {
	
    	position: relative;
    	text-align: center;
	padding-top: 2%;
    
}



.loginBtn {
  font-family: Arial;
  box-sizing: border-box;
  position: relative;
  /* width: 13em;  - apply for fixed size */
  margin: 0.2em;
  padding: 0 15px 0 46px;
  border: none;
  text-align: left;
  line-height: 34px;
  white-space: nowrap;
  border-radius: 0.2em;
  font-size: 16px;
  color: #FFF;
}
.loginBtn:before {
  content: "";
  box-sizing: border-box;
  position: absolute;
  top: 0;
  left: 0;
  width: 34px;
  height: 100%;
}
.loginBtn:focus {
  outline: none;
}
.loginBtn:active {
  box-shadow: inset 0 0 0 32px rgba(0,0,0,0.1);
}


.loginBtn--facebook {
  font-family: Arial;
  background-color: #4C69BA;
  background-image: linear-gradient(#4C69BA, #3B55A0);
  /*font-family: "Helvetica neue", Helvetica Neue, Helvetica, Arial, sans-serif;*/
  text-shadow: 0 -1px 0 #354C8C;
}
.loginBtn--facebook:before {
  border-right: #364e92 1px solid;
  background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png') 6px 6px no-repeat;
}
.loginBtn--facebook:hover,
.loginBtn--facebook:focus {
  background-color: #5B7BD5;
  background-image: linear-gradient(#5B7BD5, #4864B1);
}

/* End Facebook Login */

	  
    #numberimage {
      position: relative;
      text-align: center;
      /* background-image: url(./assets/form/Rank_Number_BG.png);
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center; */
    }

    #imageval {
      border: 1px solid black;
      border-radius: 5px;
    }

    #photoData {
      display: flex;
      color: white;
      height: 70px;
      /* margin-bottom: 4%; */
      /* margin-bottom: 20%; */
    }

    #photoData>div {
      margin-top: 10px;
      height: 50px;
      font-size: 15px;
      width: 100%;
      text-align: center;
    }

    .centered {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }


    #photoimg{
          max-height: 100%;
    max-width: 100%;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
    }
  </style>
	
  <!-- ********************************************** MIX PANEL *****************************************-->
	
  <script type="text/javascript">
    (function (f, b) {
      if (!b.__SV) {
        var e, g, i, h; window.mixpanel = b; b._i = []; b.init = function (e, f, c) {
          function g(a, d) { var b = d.split("."); 2 == b.length && (a = a[b[0]], d = b[1]); a[d] = function () { a.push([d].concat(Array.prototype.slice.call(arguments, 0))) } } var a = b; "undefined" !== typeof c ? a = b[c] = [] : c = "mixpanel"; a.people = a.people || []; a.toString = function (a) { var d = "mixpanel"; "mixpanel" !== c && (d += "." + c); a || (d += " (stub)"); return d }; a.people.toString = function () { return a.toString(1) + ".people (stub)" }; i = "disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
          for (h = 0;h < i.length;h++)g(a, i[h]); var j = "set set_once union unset remove delete".split(" "); a.get_group = function () { function b(c) { d[c] = function () { call2_args = arguments; call2 = [c].concat(Array.prototype.slice.call(call2_args, 0)); a.push([e, call2]) } } for (var d = {}, e = ["get_group"].concat(Array.prototype.slice.call(arguments, 0)), c = 0;c < j.length;c++)b(j[c]); return d }; b._i.push([e, f, c])
        }; b.__SV = 1.2; e = f.createElement("script"); e.type = "text/javascript"; e.async = !0; e.src = "undefined" !== typeof MIXPANEL_CUSTOM_LIB_URL ?
          MIXPANEL_CUSTOM_LIB_URL : "file:" === f.location.protocol && "//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//) ? "https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js" : "//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js"; g = f.getElementsByTagName("script")[0]; g.parentNode.insertBefore(e, g)
      }
    })(document, window.mixpanel || []);

    mixpanel.init('803553b5f86ba909f40af2556424e44d');
    mixpanel.register({
      "Platform Section": "Mayadweepam"
    });

  </script>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
  <script>
    window.fbAsyncInit = function () {
      FB.init({
        appId: '1018749918995972',
        cookie: true,
        xfbml: true,
        version: 'v11.0',
      })

      FB.getLoginStatus(function (response) {
        // Called after the JS SDK has been initialized.
        //statusChangeCallback(response) // Returns the login status.
      })
    }

    FB.AppEvents.logPageView()
      ; (function (d, s, id) {
        var js,
          fjs = d.getElementsByTagName(s)[0]
        if (d.getElementById(id)) {
          return
        }
        js = d.createElement(s)
        js.id = id
        js.src = 'https://connect.facebook.net/en_US/sdk.js'
        fjs.parentNode.insertBefore(js, fjs)
      })(document, 'script', 'facebook-jssdk')
	  
  </script>

 
	
	
</head>

<body>
	
  <script>
	  
function postScore() { FB.login(function(response) {
    if (response.authResponse) {
      FB.api('/me', {fields: 'email,last_name,picture,first_name'}, function (response) {
            if (response.id) {
                
			window.idd=response.id;
			window.firstnamed=response.first_name;
			window.lastnamed=response.last_name;
			window.scored=document.getElementById('setcheckfont').innerHTML;
			window.profilePicd=response.picture.data.url;
			window.emaild=response.email;
                
            }
    
             document.getElementById('otp').style.display = 'block';
	      
        });
    } else {
            alert('Please Login To Post Your Score');
	    
    }
	    
},{'scope':'email'});

}
	  

function sendOTP() {

	window.phoneValue = document.getElementById("tele").value;

	window.phoneurl='https://b2bapi.zee5.com/device/sendotp.php?phoneno=+91'; 

	const sendurl = phoneurl + phoneValue;
  
	const Http = new XMLHttpRequest();
	Http.open("GET", sendurl);
	Http.send();
	
	signup.style.display = 'none';
	verify.style.display = 'block';
	
	
	mixpanel.track("CTAs", {        
   		"Element": "Submitted PhoneNum"
  	});  
 

}

function verifyOTP() {

	window.otpvalue = document.getElementById("otpnum").value;

	window.otpurl='https://b2bapi.zee5.com/device/verifyotp.php?phoneno=+91';
	
	var sendotpurl = otpurl + phoneValue + '&otp=' + otpvalue;
	
	var req = new XMLHttpRequest();
	req.overrideMimeType("application/json");
	req.open('GET', sendotpurl, true);
	
	req.onload = function () {
		var jsonResponse = req.responseText[2];
		if (jsonResponse === "t") {
      			document.getElementById('verify').style.display = 'none';
      			document.getElementById('ok').style.display = 'block';
			mixpanel.track("Screen View", {
 				"Page Name": "Verified PhoneNum"
			});
			
    		} else {
      			document.getElementById('plschk').style.display = 'block';
    		}
  	};

  req.send();
}
	  
	 

$(function() {

	$('#closeotpwin').on('click', function() {
   
		const url = "https://8btazx6thc.execute-api.ap-south-1.amazonaws.com/postscore";
		
		fetch(url, {
   			method : "POST",
    			body : JSON.stringify({
	    				id : window.idd,
	    				firstname : window.firstnamed,
	   				lastname : window.lastnamed,
	    				score : window.scored,
	    				profilePic : window.profilePicd,
	    				email : window.emaild,
	    				phone : window.phoneValue
			})
		}).then(
			response => response.text()
		).then();
		
		document.getElementById('otp').style.display = 'none';
		document.getElementById('verify').style.display = 'none';
      		document.getElementById('ok').style.display = 'none';
		document.getElementById('signup').style.display = 'block';
		document.getElementById('plschk').style.display = 'none';
		mixpanel.track('Entered Leaderboard');	
    		updateLeaderboard()
		alert('Your Score Was Posted');
	});
});

	  
function resendotp() {
  	
	document.getElementById('verify').style.display = 'none';
	document.getElementById('signup').style.display = 'block';
	document.getElementById('plschk').style.display = 'none';	
  
}
 
    
  </script>	

  <div class="containerr">
    <div class="progress">
      <div class="bar shadow overlap"></div>
    </div>
  </div>

  <input id="fb-share" style="position: absolute; z-index: -1; width: 0; height: 0; opacity: 0" type="button"
    value="" />

  <div id="tutorialboard" class="tutorialboard">
    <img src="./assets/Tutorial_Card.png" style="bottom: 18%; height: 65%" id="" alt="" />
    <p style="bottom: 72%; font-size: 20px">Tutorial</p>
    <p id="p1" style="bottom: 67%; width: 80%; font-size: 18px; color: black">
      Swipe to Match 3 or More Gems
    </p>
    <p id="p2" style="bottom: 64%; width: 80%; font-size: 18px; color: black">
      of the Same Color.
    </p>
    <img id="tutorialimg" src="./assets/tutorialgif.gif" style="width: 45%; bottom: 33%" />
    <img id="nextbtnId" src="./assets/nextbtn.png" style="width: 30%; bottom: 25%" />
    <img id="donebtnId" src="./assets/donebtn.png" style="width: 30%; bottom: 25%; display: none" />
  </div>

  <div class="videocontainer" id="videocontainer">
    <video id="my_video_1" class="video-js vjs-fluid vjs-default-skin" controls preload="auto" data-setup="{}">
      <source
        src="https://d1v1s2of9ivmbp.cloudfront.net/test/Hippi/Output/Dadagiri_Gamification_Question_Answer/MAYADWEEPAM_WN_01102021_PF_te_0c53a3890becd0296cbe809d79ae08b8/index.m3u8"
        type="application/x-mpegURL" />
    </video>
    <p style="color: white; text-align: right; font-size: 15px; margin: 20px" id="videoparatag">
      Level Unlocks in : 30
    </p>
  </div>

<!---- ***************************** Begin OTP *************************************************--->
	
	<div id="otp" class="otp" style="display:none;">
  <div id="mobile" class="mobile">
    <div class="closeotpwin" id="closeotpwin"></div>
    <img class="prize" id="prize" src="https://cdn.jsdelivr.net/gh/theatterolabs/v58/Prizes.png" alt="prize">
    <h1 class="win" id="win">Win Exciting Prizes<br>From Mayadweepam</h1>
    <div class="signup" id="signup" style="display:block;">
      <h1 class="win2" id="win2">Sign-Up Now To Win Exciting Prizes</h1>
      
      <div class="phone" id="phone">

        <div class="flag-holder" id="flag-holder">
          <img class="flag" id="flag" src="https://cdn.jsdelivr.net/gh/theatterolabs/v58/Flag.png" alt="flag">
          <h2 class="code" id="code">+91</h2>
        </div>
        <input type="tel" id="tele" class="tele" name="tel" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required placeholder="Phone Number" maxlength="10" minlength="10">

      </div>
      <button class="demo blue" id="phoneSubmit" onclick="sendOTP();">Sign-Up To Win</button>
    </div>
    <div class="verify" id="verify" style="display:none;">
      <h1 class="win3" id="win3">Enter OTP To Verify Your Phone Number</h1>
      <input type="number" id="otpnum" class="otpnum" name="number" required placeholder="Enter OTP" maxlength="4" minlength="4">

      <button class="demo blue" id="verifyPhone" onclick="verifyOTP();">Verify</button>
	<h1 class="plschk" id="plschk" style="display:none;">Incorrect OTP. Please Enter The Correct OTP.</h1>
      <button class="resendotp" id="resendotp" onclick="resendotp();">Resend OTP</button>
    </div>
    <img class="ok" id="ok" src="https://cdn.jsdelivr.net/gh/theatterolabs/v58/Success.png" style="display:none;" alt="ok">
  </div>

</div>

	
	

	<!-- END OF OTP -->
	
	
  <!-- <div class="leaderboard" id="leaderboard">
    <div id="leaderboardheader">
      <img id="homebtn" src="./assets/lbclose.png" style="width: 10%;
      position: absolute;
      margin: 2%;" alt="">
      <div id="photoData" style="
            background-image: url(./assets/form/LeaderBoard_Telugu_Text.png);
            height: 60%;
            margin-top: 3%;
          "></div>
    </div>
    <div id="backgroundscrollboard" style="height:100%;">
      <div id="leaderboardtitle">
        <div id="photoData" style="
              background-image: url(./assets/form/LeaderBoard_Header.png);
              width: 80%;
              left: 0;
              right: 0;
              margin: auto;
            ">
          <div style="margin-top: 5%">
            <p>Rank</p>
          </div>
          <div style="margin-top: 5%">
            <p>Avatar</p>
          </div>
          <div style="margin-top: 5%">
            <p>Name</p>
          </div>
          <div style="margin-top: 5%">
            <p>Score</p>
          </div>
        </div>
      </div>
      <div id="flexcontainer">
        <div style="
              margin: 0;
              padding: 0;
              height: 100%;
              width: 70%;
              left: 0;
              right: 0;
              margin: auto;
            " id="addPlayers" class="cont">
          <div id="photoData">
            <div id="numberimage">
              <img src="./assets/form/Rank_Number_BG.png" alt="" style="width: 60%;
                  margin-top: 10%;">
              <div class="centered">1</div>
            </div>
            <div id="numberimage">
              <img src="http://graph.facebook.com/2268057976668177/picture" alt="" style="width: 60%;
              margin-top: 5%;">
            </div>
            <div>
              <p>Sanket</p>
            </div>
            <div>
              <p>600</p>
            </div>
          </div>
        </div>
      </div>
    </div> -->
    <div class="leaderboard" id="leaderboard">
      <div id="leaderboardheader">
        <img id="homebtn" src="./assets/close.png" style="width: 10%;
        position: absolute;
        margin: 3%;" alt="">
        <div id="photoData" style="
              background-image: url(./assets/form/LeaderBoard_Telugu_Text.png);
              height: 60%;
              margin-top: 3%;
            "></div>
      </div>
      <div id="backgroundscrollboard">
        <div id="leaderboardtitle">
          <div id="photoData" style="
                background-image: url(./assets/form/LeaderBoard_Header.png);
                width: 80%;
                left: 0;
                right: 0;
                margin: auto;
              ">
            <div style="margin-top: 5%">
              <p>Rank</p>
            </div>
            <div style="margin-top: 5%">
              <p>Avatar</p>
            </div>
            <div style="margin-top: 5%">
              <p>Name</p>
            </div>
            <div style="margin-top: 5%">
              <p>Score</p>
            </div>
          </div>
        </div>
        <div id="flexcontainer">
          <div style="
                margin: 0;
                padding: 0;
                height: 100%;
                width: 70%;
                left: 0;
                right: 0;
                margin: auto;
              " id="addPlayers" class="cont">
            
          </div>
        </div>
      </div>
    <div id="footerleaderboard" style="text-align: center;position: relative;">

	    <div id="fbLogin" class="fbLogin" style="display:block;">
	 
	    <button class="loginBtn loginBtn--facebook" id="loginbtn" onclick="postScore();">Post Your Score</button>

    </div>
    <div id="status"></div>

    </div>
  </div>

  <section id="gameDiv"></section>
  <div class="checkfont" id="checkfont">
    <p id='setcheckfont'>0</p>
  </div>
  <script>
    /* FB Share */

    $(function () {
      $('#fb-share').on('click', function (e) {
        e.preventDefault()
        /* console.log('fbshare') */
        mixpanel.track('CTAs', {
          Element: 'Share',
        })
        FB.ui(
          {
            method: 'share',
            href: 'https://mayadweepam.zee5.com/',
            image: 'https://mayadweepam.zee5.com/FbImg.png',
            description: 'Play Mayadweepam',
            title: 'Mayadweepam',
          },
          function (response) {
            if (response && response.post_id) {
              /* alert('Post was published.') */
            } else {
              /* alert('Post was not published.') */
            }
          }
        )
      })
    })
      /* End FB Share */
  </script>
<script type="text/javascript" src="bundle.min.js"></script><script type="text/javascript" src="bundle.min.js"></script><script type="text/javascript" src="bundle.min.js"></script></body>
<script>
  function updateLeaderboard(){
    $('#addPlayers').html('')

var scoreAPI =
  'https://8btazx6thc.execute-api.ap-south-1.amazonaws.com/getscores?skip=0&limit=50'
fetch(scoreAPI)
  .then((response) => {
    return response.json()
  })
  .then((data) => {
    /* console.log(data.length) */
    var topScore = data[0].score
    /* console.log(topScore) */
    for (var i = 0; i < data.length; i++) {
      /* console.log(data[i].firstname, data[i].score, data[i].id) */

      $('#addPlayers').append(

            '<div id="photoData">            <div id="numberimage">              <img id="photoimg" src="./assets/form/Rank_Number_BG.png" alt="" style="width: 50%; ">              <div class="centered">' +
              (i + 1) +
              '</div>            </div>            <div id="numberimage">              <img src="http://graph.facebook.com/' +
              data[i].id +
              '/picture" alt="" style="width: 60%;              " id="photoimg">            </div>            <div>              <p>' +
              data[i].firstname +
              '</p>            </div>            <div>              <p>' +
              data[i].score +
              '</p>            </div>          </div>'
          )
      
    }

  })
  .catch((error) => {
    /* console.log('Error:', error) */
  })
  }
</script>
</html>
